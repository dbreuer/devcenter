



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../">
      <meta name="generator" content="mkdocs-0.17.4, mkdocs-material-2.9.2">
    
    
      
        <title>Expose an Environment Variable and use it in another Step - Bitrise DevCenter</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.ba0fd1a6.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
      
        
        
        <meta name="theme-color" content="#7e57c2">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Source+Code+Pro">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Source Code Pro","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism-okaidia.min.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Bitrise DevCenter" class="md-header-nav__button md-logo">
          
            <img src="../img/logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                <!-- Bitrise DevCenter -->

                
                  
                

                <span class="md-header-nav__breadcrumbs current">Expose an Environment Variable and use it in another Step</span>

              </span>
              <span class="md-header-nav__topic">
                Expose an Environment Variable and use it in another Step
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/dbreuer/devcenter/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../img/logo.svg" width="48" height="48">
      
    </span>
    Bitrise DevCenter
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/dbreuer/devcenter/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Bitrise DevCenter - What is Bitrise? " class="md-nav__link">
      Bitrise DevCenter - What is Bitrise? 
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../connecting-a-repository/" title="Connecting a repository" class="md-nav__link">
      Connecting a repository
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../setting-up-configuration/" title="Setting up configuration" class="md-nav__link">
      Setting up configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../setting-up-ssh-keys/" title="Setting up SSH keys" class="md-nav__link">
      Setting up SSH keys
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../android-tips-and-tricks/" title="Android tips and tricks" class="md-nav__link">
      Android tips and tricks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../android-code-signing/" title="Android Code Signing" class="md-nav__link">
      Android Code Signing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../frequent-android-issues/" title="Frequent Android issues" class="md-nav__link">
      Frequent Android issues
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../the-environment/" title="The Android/Linux/Docker environment" class="md-nav__link">
      The Android/Linux/Docker environment
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../app-status-badge/" title="App Status / Badge API" class="md-nav__link">
      App Status / Badge API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../build-trigger/" title="Build Trigger API" class="md-nav__link">
      Build Trigger API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../outgoing-webhooks/" title="Outgoing Webhooks" class="md-nav__link">
      Outgoing Webhooks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../basics-of-bitrise-yml/" title="Basics of bitrise.yml" class="md-nav__link">
      Basics of bitrise.yml
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../create-your-own-step/" title="Create your own Step" class="md-nav__link">
      Create your own Step
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installation/" title="Install the Bitrise CLI" class="md-nav__link">
      Install the Bitrise CLI
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../most-important-concepts/" title="Most important concepts" class="md-nav__link">
      Most important concepts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../run-your-first-build/" title="Run your first build" class="md-nav__link">
      Run your first build
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../secrets/" title="Secrets" class="md-nav__link">
      Secrets
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../steps/" title="Steps" class="md-nav__link">
      Steps
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflows/" title="Workflows" class="md-nav__link">
      Workflows
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../about-caching/" title="About caching" class="md-nav__link">
      About caching
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../caching-cocoapods/" title="Caching Cocoapods" class="md-nav__link">
      Caching Cocoapods
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../caching-gradle/" title="Caching Gradle" class="md-nav__link">
      Caching Gradle
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../caching-maven/" title="Caching Maven" class="md-nav__link">
      Caching Maven
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../caching-ruby-gems/" title="Caching Ruby GEMs" class="md-nav__link">
      Caching Ruby GEMs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../run-your-build-locally-in-docker/" title="How to run your build locally in Docker" class="md-nav__link">
      How to run your build locally in Docker
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../use-your-own-docker-image/" title="Use your own Docker image" class="md-nav__link">
      Use your own Docker image
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../adding-projects-with-submodules/" title="Adding projects with submodules or with private CocoaPods repos" class="md-nav__link">
      Adding projects with submodules or with private CocoaPods repos
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../android-x86-emulator/" title="Android x86 Emulator" class="md-nav__link">
      Android x86 Emulator
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../available-environment-variables/" title="Available Environment Variables" class="md-nav__link">
      Available Environment Variables
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../github-pull-request-status-troubleshooting/" title="GitHub Pull Request / build Status indicator troubleshooting" class="md-nav__link">
      GitHub Pull Request / build Status indicator troubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../grant-access-to-github-organization/" title="Grant access to a GitHub Organization" class="md-nav__link">
      Grant access to a GitHub Organization
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../how-to-change-the-owner-of-an-app/" title="How to change the owner of an app" class="md-nav__link">
      How to change the owner of an app
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../how-to-generate-ssh-keypair/" title="How to generate an SSH key pair" class="md-nav__link">
      How to generate an SSH key pair
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../i-cant-see-my-github-organization-repository-on-the-add-new-app-page/" title="I can't see my GitHub organization / repository on the Add New App page" class="md-nav__link">
      I can't see my GitHub organization / repository on the Add New App page
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../no-builds-are-triggered-automatically/" title="No builds are triggered when I push code into the repository" class="md-nav__link">
      No builds are triggered when I push code into the repository
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../organization-faq/" title="Organization FAQ" class="md-nav__link">
      Organization FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../should-i-commit-my-dependencies-into-my-repository/" title="Should I commit my dependencies into my repository?" class="md-nav__link">
      Should I commit my dependencies into my repository?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../why-my-build-takes-longer-on-bitrise-than-on-my-mac/" title="Why my build takes longer on Bitrise than on my Mac?" class="md-nav__link">
      Why my build takes longer on Bitrise than on my Mac?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../fastlane-tools-integration/" title="fastlane tools integration" class="md-nav__link">
      fastlane tools integration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../how-to-configure-fastlane-match-for-bitrise/" title="How to configure fastlane match for Bitrise" class="md-nav__link">
      How to configure fastlane match for Bitrise
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../add-your-first-step-to-your-workflow/" title="Add your first Step to your Workflow" class="md-nav__link">
      Add your first Step to your Workflow
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../create-your-first-app-on-bitrise/" title="Create your first App on Bitrise.io" class="md-nav__link">
      Create your first App on Bitrise.io
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../manage-your-bitrise-workflow/" title="Manage your Bitrise workflow" class="md-nav__link">
      Manage your Bitrise workflow
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../available-stacks/" title="Available Stacks" class="md-nav__link">
      Available Stacks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../virtual-machines/" title="Virtual Machines" class="md-nav__link">
      Virtual Machines
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../code-signing-technical-details/" title="iOS Code Signing - Technical details" class="md-nav__link">
      iOS Code Signing - Technical details
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../export-certificate-and-provisioning-profile/" title="How to export Certificates and Provisioning Profiles" class="md-nav__link">
      How to export Certificates and Provisioning Profiles
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../frequent-ios-issues/" title="Frequent iOS issues" class="md-nav__link">
      Frequent iOS issues
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../known-xcode-issues/" title="List of known Xcode issues" class="md-nav__link">
      List of known Xcode issues
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../resigning-an-ipa/" title="Resigning an IPA" class="md-nav__link">
      Resigning an IPA
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../uploading-certificates/" title="Uploading certificates" class="md-nav__link">
      Uploading certificates
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../signing-up-with-bitbucket/" title="Signing up with Bitbucket" class="md-nav__link">
      Signing up with Bitbucket
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../signing-up-with-email/" title="Signing up with email" class="md-nav__link">
      Signing up with email
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../signing-up-with-github/" title="Signing up with GitHub" class="md-nav__link">
      Signing up with GitHub
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../trial-after-signing-up/" title="Trial after signing up" class="md-nav__link">
      Trial after signing up
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../changing-the-owner-of-an-app/" title="Changing the owner of an app" class="md-nav__link">
      Changing the owner of an app
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../managing-billing-sub/" title="Managing billing and subscription for organizations" class="md-nav__link">
      Managing billing and subscription for organizations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../managing-invoices/" title="Managing the invoices of your organizations" class="md-nav__link">
      Managing the invoices of your organizations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../org-url/" title="Finding the URL of your organizations" class="md-nav__link">
      Finding the URL of your organizations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../attach-any-file-to-build/" title="Attach any file as an Artifact to the Build" class="md-nav__link">
      Attach any file as an Artifact to the Build
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../disable-a-step-by-condition/" title="Enable/Disable a step (optionally, based on a condition)" class="md-nav__link">
      Enable/Disable a step (optionally, based on a condition)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../dont-mark-build-failed-if-step-fails/" title="Don't mark the Build as failed if a given step would fail (ignore the error of the Step)" class="md-nav__link">
      Don't mark the Build as failed if a given step would fail (ignore the error of the Step)
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
    <a href="./" title="Expose an Environment Variable and use it in another Step" class="md-nav__link md-nav__link--active">
      Expose an Environment Variable and use it in another Step
    </a>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../install-additional-tools/" title="Install Any Additional Tool" class="md-nav__link">
      Install Any Additional Tool
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../optimize-your-build-times/" title="Optimize your build times" class="md-nav__link">
      Optimize your build times
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../skip-a-build/" title="Skip a Build (skip ci)" class="md-nav__link">
      Skip a Build (skip ci)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../use-bitrise-yml-from-repository/" title="Use bitrise.yml from repository" class="md-nav__link">
      Use bitrise.yml from repository
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../xcodebuild-export-options/" title="Xcode Archive: export options" class="md-nav__link">
      Xcode Archive: export options
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../bitrise-tools/" title="Bitrise Tools" class="md-nav__link">
      Bitrise Tools
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflow-editor-doesnt-load/" title="Workflow Editor doesn't load" class="md-nav__link">
      Workflow Editor doesn't load
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../auto-deploy-middleman-project/" title="Auto deploy your Middleman blog / static website" class="md-nav__link">
      Auto deploy your Middleman blog / static website
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../build-with-fake/" title="Build with FAKE (F# Make)" class="md-nav__link">
      Build with FAKE (F# Make)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../community-created/" title="Community Created Tutorials" class="md-nav__link">
      Community Created Tutorials
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../bitrise-app-deployment/" title="Bitrise OTA App Deployment" class="md-nav__link">
      Bitrise OTA App Deployment
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../deploy-to-testfairy-with-bitrise/" title="Deploy to TestFairy with Bitrise" class="md-nav__link">
      Deploy to TestFairy with Bitrise
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../publish-your-app-to-appaloosa/" title="Publish your app to Appaloosa" class="md-nav__link">
      Publish your app to Appaloosa
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../hipchat-message/" title="HipChat message with build status and details" class="md-nav__link">
      HipChat message with build status and details
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../adding-a-bitbucket-webhook/" title="Adding a Bitbucket webhook" class="md-nav__link">
      Adding a Bitbucket webhook
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../deploy-your-xamarin-app/" title="Deploy your Xamarin app" class="md-nav__link">
      Deploy your Xamarin app
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../run-your-tests-in-the-xamarin-test-cloud/" title="Run your tests in the Xamarin Test Cloud 2" class="md-nav__link">
      Run your tests in the Xamarin Test Cloud 2
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting-started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../some-new-content/" title="Some new content new version" class="md-nav__link">
      Some new content new version
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../testing-if-it-works/" title="Testing if it Works" class="md-nav__link">
      Testing if it Works
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/dbreuer/devcenter/blob/master/docs/expose-environment-variable/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Expose an Environment Variable and use it in another Step</h1>
                
                <p>You can expose Environment Variables from one Step,
to make it available for every other Step performed after the Step during the build.
An example might be that you want to generate a
release note which you want to use in a message or deploy step.
Exposing environment variables is really easy,
you just have to use <a href="https://github.com/bitrise-io/envman/">envman</a> if you want to make it available for every other Step.</p>

<p>A very simple example might be:</p>

<pre><code>envman add --key MY_RELEASE_NOTE --value &quot;This is the release note&quot;
</code></pre>

<p>You can call <code>envman</code> in any Step, including a script step,
or even in your own script (stored in your repository) if you call it from a <code>bitrise</code> build.</p>

<p>Envman can be used in a couple of ways.
You can specify the value as the <code>--value</code> parameter (you can see this in the previous example),
pipe the value:</p>

<pre><code>echo 'hi' | envman add --key MY_RELEASE_NOTE
</code></pre>

<p>or read the value from a file:</p>

<pre><code>envman add --key MY_RELEASE_NOTE --valuefile ./some/file/path
</code></pre>

<p><em>You can read more about how <code>envman</code> can
be used on it's <a href="https://github.com/bitrise-io/envman/">GitHub page</a>.</em></p>

<p>!!! warning &quot;Env Var value size limit&quot;
Environment Variable values set through <code>envman</code> are limited to 10KB by default.
This is done in order to prevent issues with common tools.
Different tools have different environment size constraints,
e.g. <code>Bash</code> will start to fail on OS X once the environments set
exceed ~120KB (<strong>in total, not a single variable!</strong>).</p>

<pre><code>For larger data you should use files or other solutions,
and use environment variables to point to the file / to the
ID or location of where the data is stored.
</code></pre>

<p>Once the environment variable is exposed you can use it like
any other environment variable. In <code>bash</code> you can reference
the previous example environment as: <code>$MY_RELEASE_NOTE</code>.</p>

<p>You can of course use these exposed environment variables in the inputs of other Steps.
For example the <strong>HockeyApp Deploy</strong> step has a <code>notes</code> input,
you can reference the previous example variable by inserting <code>$MY_RELEASE_NOTE</code> into the input,
like: <code>The Release Note: $MY_RELEASE_NOTE</code>,
which will be resolved as <code>The Release Note: This is the release note</code> (if you used
the first example to set the value of <code>MY_RELEASE_NOTE</code>).</p>

<p>A simple example, exposing the release note and then using it in another <code>Script step</code>,
and in a <code>Slack step</code>:</p>

<pre><code>format_version: 1.1.0
default_step_lib_source: https://github.com/bitrise-io/bitrise-steplib.git

workflows:
  example:
    steps:
    - script:
        inputs:
        - content: |
            #!/bin/bash
            envman add --key MY_RELEASE_NOTE --value &quot;This is the release note&quot;
    - script:
        inputs:
        - content: |
            #!/bin/bash
            echo &quot;My Release Note: $MY_RELEASE_NOTE&quot;
    - slack:
        inputs:
        - channel: ...
        - webhook_url: ...
        - message: &quot;Release Notes: $MY_RELEASE_NOTE&quot;
</code></pre>

<h2>Copy an environment variable to another key</h2>

<p>If you want to expose the value of an environment variable to be accessible
through another environment variable key, you can simply expose the value with a new key.</p>

<p>For example, if you want to copy the value of the <code>BITRISE_BUILD_NUMBER</code> environment variable
and make it available under the environment variable key <code>MY_BUILD_NUMBER</code>, you just have to
read the current value and expose it under the new key.</p>

<p>To modify the first example here, which exposed a fix value:</p>

<pre><code>envman add --key MY_RELEASE_NOTE --value &quot;This is the release note&quot;
</code></pre>

<p>simply reference/read the value of the other environment variable in the <code>envman add ...</code> command.</p>

<p>To expose the value of <code>BITRISE_BUILD_NUMBER</code> under the key <code>MY_BUILD_NUMBER</code>:</p>

<pre><code>envman add --key MY_BUILD_NUMBER --value &quot;${BITRISE_BUILD_NUMBER}&quot;
</code></pre>

<p>After this, subsequent steps can get the value of <code>BITRISE_BUILD_NUMBER</code> from the
<code>MY_BUILD_NUMBER</code> environment variable.</p>

<p><em>Note: if you change the value of <code>BITRISE_BUILD_NUMBER</code> after this, the
value of <code>MY_BUILD_NUMBER</code> won't be modified, that will still hold the original value!</em></p>

<h2>Overwrite an Environment Variable if another one is set</h2>

<p>E.g. if a custom environment variable is set through the Build Trigger API.</p>

<p>The best way to do this, to make sure that no matter what, you overwrite the other env var,
is to use a Script step, as described above, and check whether the custom env var is set.</p>

<p>As an example, if you want to overwrite the <code>PROJECT_SCHEME</code> environment variable,
if, let's say, a <code>API_PROJECT_SCHEME</code> env var is set, just drop in a <code>Script</code> step (can be the very first one
in the workflow), with the content:</p>

<pre><code>#!/bin/bash
set -ex
if [ ! -z &quot;$API_PROJECT_SCHEME&quot; ] ; then
  envman add --key PROJECT_SCHEME --value &quot;$API_PROJECT_SCHEME&quot;
fi
</code></pre>

<p>This script will check whether the <code>API_PROJECT_SCHEME</code> env var is defined,
and if it is, then its value will be assigned to the <code>PROJECT_SCHEME</code> environment variable,
overwriting the original value of <code>PROJECT_SCHEME</code>.</p>

<h3>Alternative solution: use Workflow Env Vars</h3>

<p>Alternatively you can set environment variables for Workflows too.
The Env Vars you set for a workflow will overwrite the env var
if defined as an App Env Var or Secret Env Var.</p>

<p>An example workflow which defined an environment variable, and then runs another workflow
which can use those env vars:</p>

<pre><code>workflows:

  deploy-alpha:
    envs:
    - ENV_TYPE: alpha
    after_run:
    - _deploy

  _deploy:
    steps:
    - script:
        inputs:
        - content: |
            #!/bin/bash
            echo &quot;ENV_TYPE: $ENV_TYPE&quot;
</code></pre>

<p>If you run the <code>deploy-alpha</code> workflow, that will set the <code>ENV_TYPE</code> env var to <code>alpha</code>,
then it will run the <code>_deploy</code> workflow, which can use that environment variable -
in this example it will simply print its value (the printed text will be: <code>ENV_TYPE: alpha</code>).</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../dont-mark-build-failed-if-step-fails/" title="Don't mark the Build as failed if a given step would fail (ignore the error of the Step)" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Don't mark the Build as failed if a given step would fail (ignore the error of the Step)
              </span>
            </div>
          </a>
        
        
          <a href="../install-additional-tools/" title="Install Any Additional Tool" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Install Any Additional Tool
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2014 - 2018 Bitrise Ltd.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.d0060b13.js"></script>
      
      <script>app.initialize({version:"0.17.4",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/prism.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-go.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-graphql.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-bash.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-javascript.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-markdown.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-json.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-python.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-ruby.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-yaml.min.js"></script>
      
        <script src="../search/require.js"></script>
      
        <script src="../search/search.js"></script>
      
    
    
      
    
  </body>
</html>